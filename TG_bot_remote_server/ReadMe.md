Некоторое время назад, друг попросил сделать для его канала на YouTube простого бота, который будет собирать предложения от подписчиков через телеграмм бота. Хотя существуют готовые сервисы для создания таких ботов, я решил разработать своего собственного бота, чтобы иметь полный контроль над его логикой и разместить его на своем удаленном сервере.

Однако сам скрипт вызвал некоторые сложности из-за несовместимости версий библиотеки python-telegram-bot с последними обновлениями. Благодаря постоянному исследованию и поиску решений, я обнаружил, что версия 13.7 библиотеки python-telegram-bot решает эти проблемы.

Для создания изолированной среды выполнения я создал новое виртуальное окружение, используя команду sudo apt install python3-venv, и активировал его перед запуском бота.

На удаленном сервере я настроил фоновую работу бота, чтобы он продолжал работать даже после закрытия терминала. Для этого я использовал команду nohup python3 /root/scripts/script/bot.py > /root/scripts/output.log 2>&1 &, которая также записывает ошибки в лог-файл.

Для автоматического запуска бота при перезагрузке сервера я создал службу bot.service в директории /etc/systemd/system/ с помощью команды sudo nano /etc/systemd/system/bot.service. Затем я запустил демона и включил службу бота с помощью команд sudo systemctl daemon-reload и sudo systemctl enable bot.service.

Теперь бот работает в упрощенном режиме, но я планирую постепенно его развивать и добавлять новые функции.
